CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `v_tat` AS select `req`.`id` AS `id`,`req`.`facility_id` AS `facility_id`,`req`.`date_received` AS `date_received`,`req`.`program_id` AS `program_id`,`req`.`rejection_address` AS `rejection_address`,`req`.`comments` AS `comments`,`req`.`lab_comments` AS `lab_comments`,`req`.`flag` AS `flag`,`req`.`synced` AS `synced`,`req`.`timestamp` AS `timestamp`,`req`.`entered_by` AS `entered_by`,`req`.`results_dispached` AS `results_dispached`,`sa`.`id` AS `sample_id`,`sa`.`patient_id` AS `patient_id`,`sa`.`requisition_id` AS `requisition_id`,`sa`.`date_collected` AS `date_collected`,`sa`.`date_dispatched` AS `date_dispatched`,`sa`.`program` AS `program`,`sa`.`sample_type` AS `sample_type`,`sa`.`clinician_name` AS `clinician_name`,`sa`.`no_of_dbs_spots` AS `no_of_dbs_spots`,`sa`.`infant_feeding` AS `infant_feeding`,`sa`.`prohilaxis` AS `prohilaxis`,`sa`.`prophilaxis_weeks` AS `prophilaxis_weeks`,`sa`.`acceptance_status` AS `acceptance_status`,`sa`.`status` AS `status`,`sa`.`timestamp` AS `sample_timestamp` from ((`test_requisition` `req` join `sample` `sa` on((`sa`.`requisition_id` = `req`.`id`))) join `sample_test_run` `tr` on(((`tr`.`sample_id` = `sa`.`id`) and ((`tr`.`result` = 'P') or (`tr`.`result` = 'N')))))