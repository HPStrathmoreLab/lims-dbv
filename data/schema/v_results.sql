CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `v_results` AS select `str`.`id` AS `id`,`str`.`sample_id` AS `sample_id`,`str`.`test_run_no` AS `test_run_no`,`str`.`result` AS `result`,`str`.`result_val` AS `result_val`,`str`.`date_released` AS `date_released`,`sa`.`patient_id` AS `patient_id`,`sa`.`requisition_id` AS `requisition_id`,`sa`.`date_collected` AS `date_collected`,`sa`.`date_dispatched` AS `date_dispatched`,`sa`.`program` AS `program`,`sa`.`sample_type` AS `sample_type`,`sa`.`clinician_name` AS `clinician_name`,`sa`.`no_of_dbs_spots` AS `no_of_dbs_spots`,`sa`.`infant_feeding` AS `infant_feeding`,`sa`.`prohilaxis` AS `prohilaxis`,`sa`.`prophilaxis_weeks` AS `prophilaxis_weeks`,`sa`.`acceptance_status` AS `acceptance_status`,`sa`.`status` AS `status`,`sa`.`timestamp` AS `timestamp`,`pa`.`facility_id` AS `pa_facility_id`,`pa`.`code` AS `patient_code`,`pa`.`dob` AS `dob`,`pa`.`gender` AS `gender`,`pa`.`synced` AS `patient_synced`,`pa`.`timestamp` AS `patient_timestamp`,`req`.`facility_id` AS `facility_id`,`req`.`date_received` AS `date_received`,`req`.`program_id` AS `program_id`,`req`.`rejection_address` AS `rejection_address`,`req`.`comments` AS `comments`,`req`.`lab_comments` AS `lab_comments`,`req`.`flag` AS `req_flag`,`req`.`synced` AS `req_synced`,`req`.`timestamp` AS `req_timestamp`,`req`.`entered_by` AS `entered_by`,`req`.`results_dispached` AS `results_dispached`,`fac`.`name` AS `facility_name` from ((((`sample_test_run` `str` left join `sample` `sa` on((`sa`.`id` = `str`.`sample_id`))) left join `patient` `pa` on((`sa`.`patient_id` = `pa`.`id`))) left join `test_requisition` `req` on((`sa`.`requisition_id` = `req`.`id`))) left join `facility` `fac` on((`req`.`facility_id` = `fac`.`id`))) group by `str`.`id` order by `str`.`id` desc